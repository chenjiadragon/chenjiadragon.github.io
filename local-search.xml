<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>No such file or directory: /opt/ros/melodic/share/franka_description/robots/panda/panda.urdf.xacro [Errno 2] No such file or directory: &#39;/opt/ros/melodic/share/franka_description/robots/panda/panda.urdf.xacro&#39;...</title>
    <link href="/2022/09/17/No-such-file-or-directory-opt-ros-melodic-share-franka-description-robots-panda-panda-urdf-xacro-Errno-2-No-such-file-or-directory-opt-ros-melodic-share-franka-description-robots-panda-panda-urdf-xacro/"/>
    <url>/2022/09/17/No-such-file-or-directory-opt-ros-melodic-share-franka-description-robots-panda-panda-urdf-xacro-Errno-2-No-such-file-or-directory-opt-ros-melodic-share-franka-description-robots-panda-panda-urdf-xacro/</url>
    
    <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>初学moveit，按照<a href="http://docs.ros.org/en/melodic/api/moveit_tutorials/html/index.html">官方教程</a>学习，根据教程一步步操作，结果才到第二节课，运行demo时：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">roslaunch panda_moveit_config demo.<span class="hljs-built_in">launch</span> rviz_tutorial:=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>出现报错：</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">No such <span class="hljs-keyword">file</span> or directory:<span class="hljs-regexp">/opt/</span>ros<span class="hljs-regexp">/melodic/</span>share<span class="hljs-regexp">/franka_description/</span>robots<span class="hljs-regexp">/panda/</span>panda.urdf.xacro [Errno2] No such <span class="hljs-keyword">file</span> or directory:<span class="hljs-string">&#x27;/opt/ros/melodic/share/franka_description/robots/panda/panda.urdf.xacro&#x27;</span>...<br></code></pre></td></tr></table></figure><h1 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h1><p>我本以为是我没有安装<code>franka_description</code>包，但我打开文件夹<code>/opt/ros/melodic/share/</code>，发现有这个安装包，但是没有<code>panda</code>这个文件夹。我以为时包文件丢失，重新安装了以下：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo apt-<span class="hljs-built_in">get</span> install ros-melodic-franka-description<br></code></pre></td></tr></table></figure><p>问题依旧没有解决。</p><p>去ROS官网查看<code>franka_description</code>包：<a href="http://wiki.ros.org/franka_description">http://wiki.ros.org/franka_description</a><br>打开github地址，发现github上的包文件是完整的：</p><img src="/2022/09/17/No-such-file-or-directory-opt-ros-melodic-share-franka-description-robots-panda-panda-urdf-xacro-Errno-2-No-such-file-or-directory-opt-ros-melodic-share-franka-description-robots-panda-panda-urdf-xacro/1.png" class=""><p>把它克隆到moveit工作空间下的src文件夹里：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">git clone https:<span class="hljs-regexp">//gi</span>thub.com<span class="hljs-regexp">/frankaemika/</span>franka_ros<br></code></pre></td></tr></table></figure><p>安装相关依赖并编译：</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs brainfuck"><span class="hljs-comment">$ rosdep install</span> <span class="hljs-literal">-</span><span class="hljs-comment">y</span> <span class="hljs-literal">--</span><span class="hljs-comment">from</span><span class="hljs-literal">-</span><span class="hljs-comment">paths</span> <span class="hljs-string">.</span> <span class="hljs-literal">--</span><span class="hljs-comment">ignore</span><span class="hljs-literal">-</span><span class="hljs-comment">src</span> <span class="hljs-literal">--</span><span class="hljs-comment">rosdistro melodic</span><br><span class="hljs-comment">$ catkin_make</span><br></code></pre></td></tr></table></figure><p>重新运行：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">roslaunch panda_moveit_config demo.<span class="hljs-built_in">launch</span> rviz_tutorial:=<span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure><p>成功！</p><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>因为工作空间中的功能吧优先级高于ROS按照的功能包，所以也不用担心重名。不过，<a href="http://wiki.ros.org/franka_description">官网</a>显示已经发布了功能包，不知道为什么使用sudo apt-get 安装的包与github上不一样。</p>]]></content>
    
    
    <categories>
      
      <category>ROS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>melodic</tag>
      
      <tag>moveit</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>C++: internal compiler error: 已杀死 (program cc1plus)</title>
    <link href="/2022/09/16/C-internal-compiler-error-%E5%B7%B2%E6%9D%80%E6%AD%BB-program-cc1plus/"/>
    <url>/2022/09/16/C-internal-compiler-error-%E5%B7%B2%E6%9D%80%E6%AD%BB-program-cc1plus/</url>
    
    <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在虚拟机中安装了ROS，并使用<code>catkin_make</code>编译项目时，出现该问题：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs bash">[ 46%] Building CXX object moveit_tutorials/doc/interactivity/CMakeFiles/interactivity_utils.dir/src/imarker.cpp.o<br>c++: internal compiler error: 已杀死 (program cc1plus)<br>Please submit a full bug report,<br>with preprocessed <span class="hljs-built_in">source</span> <span class="hljs-keyword">if</span> appropriate.<br>See &lt;file:///usr/share/doc/gcc-7/README.Bugs&gt; <span class="hljs-keyword">for</span> instructions.<br>moveit_tutorials/doc/motion_planning_api/CMakeFiles/motion_planning_api_tutorial.dir/build.make:62: recipe <span class="hljs-keyword">for</span> target <span class="hljs-string">&#x27;moveit_tutorials/doc/motion_planning_api/CMakeFiles/motion_planning_api_tutorial.dir/src/motion_planning_api_tutorial.cpp.o&#x27;</span> failed<br>make[2]: *** [moveit_tutorials/doc/motion_planning_api/CMakeFiles/motion_planning_api_tutorial.dir/src/motion_planning_api_tutorial.cpp.o] Error 4<br>CMakeFiles/Makefile2:4570: recipe <span class="hljs-keyword">for</span> target <span class="hljs-string">&#x27;moveit_tutorials/doc/motion_planning_api/CMakeFiles/motion_planning_api_tutorial.dir/all&#x27;</span> failed<br>make[1]: *** [moveit_tutorials/doc/motion_planning_api/CMakeFiles/motion_planning_api_tutorial.dir/all] Error 2<br>make[1]: *** 正在等待未完成的任务....<br>[ 50%] Linking CXX executable /home/cjl/ros-melodic/ws_moveit/devel/lib/moveit_tutorials/motion_planning_pipeline_tutorial<br>[ 53%] Building CXX object moveit_tutorials/doc/interactivity/CMakeFiles/interactivity_utils.dir/src/pose_string.cpp.o<br>[ 53%] Built target motion_planning_pipeline_tutorial<br>[ 57%] Linking CXX shared library /home/cjl/ros-melodic/ws_moveit/devel/lib/libinteractivity_utils.so<br>[ 60%] Linking CXX executable /home/cjl/ros-melodic/ws_moveit/devel/lib/moveit_tutorials/move_group_interface_tutorial<br>[ 60%] Built target interactivity_utils<br>[ 60%] Built target move_group_interface_tutorial<br>Makefile:140: recipe <span class="hljs-keyword">for</span> target <span class="hljs-string">&#x27;all&#x27;</span> failed<br>make: *** [all] Error 2<br>Invoking <span class="hljs-string">&quot;make -j4 -l4&quot;</span> failed<br></code></pre></td></tr></table></figure><h1 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h1><p>出现这种问题的原因不是因为代码有问题，而是编译器在编译代码时，内存耗尽导致的。这里的内存指的是物理内存和虚拟内存(swap空间)。在Vmware上，这个问题比较常见，其他经常发生这种情况的平台是树莓pi和类似的SBCs(因为它们通常没有swap空间，并且物理内存也有限)。</p><p>可以使用以下代码查看物理内存和虚拟内存的大小与占用：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">free -h</span><br></code></pre></td></tr></table></figure><img src="/2022/09/16/C-internal-compiler-error-%E5%B7%B2%E6%9D%80%E6%AD%BB-program-cc1plus/1.png" class="" alt="内存占用"><p>使用VMware安装Ubuntu时，因为我采用的安装方式是“清除整个磁盘并安装Ubuntu”，而非以下这种方式指定分区。可以看到系统只给我分配了不到1G的虚拟内存。</p><img src="/2022/09/16/C-internal-compiler-error-%E5%B7%B2%E6%9D%80%E6%AD%BB-program-cc1plus/2.png" class=""><blockquote><p>注意：在UBUNTU系统里面，并不是你的物理内存全部耗尽之后，系统才使用swap分区！系统的swappiness设定值，对如何使用swap分区是有着很大的联系。 如何修改两者之间的关系，参考<a href="#%E5%8F%82%E8%80%83">博客3</a></p></blockquote><p>经分析，出现该问题的原因大概率是因为虚拟空间设置过小导致的，解决方法有以下几种：</p><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>最简单的方法是使用单线程进行编译，确定是编译速度会变慢：</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">catkin_make</span> -j <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>临时增加虚拟内存空间。</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs routeros">sudo dd <span class="hljs-attribute">if</span>=/dev/zero <span class="hljs-attribute">of</span>=/swapfile <span class="hljs-attribute">bs</span>=64M <span class="hljs-attribute">count</span>=16<br><span class="hljs-comment"># count的大小就是增加的swap空间的大小，64M是块大小，所以空间大小是bs*count=1024MB</span><br><br>sudo mkswap /swapfile<br><span class="hljs-comment"># 把刚才空间格式化成swap格式</span><br><br>chmod 0600 /swapfile  <br><span class="hljs-comment"># 该目录权限，不改的话，在下一步启动时会报“swapon: /swapfile: insecure permissions 0644, 0600 suggested.”错误</span><br><br>sudo swapon /swapfile<br><span class="hljs-comment"># 使用刚才创建的swap空间</span><br></code></pre></td></tr></table></figure><p>编译完成后释放空间：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">swapoff -<span class="hljs-keyword">a</span><br><span class="hljs-comment"># 详细的用法可以：swapoff --help</span><br><br>free -h<br><span class="hljs-comment"># 查看当前内存使用情况</span><br></code></pre></td></tr></table></figure><h2 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h2><p>永久增加虚拟内存，新建并重新挂载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo swapoff /swapfile <br><span class="hljs-comment"># 先关闭虚拟内存</span><br><br>sudo fallocate -l 8G /swapfile<br><span class="hljs-comment"># 新建8G虚拟内存</span><br> <br><span class="hljs-built_in">ls</span> -lh /swapfile<br><span class="hljs-comment"># 查看是否已经新建swap；</span><br> <br>sudo <span class="hljs-built_in">chmod</span> 600 /swapfile<br><span class="hljs-comment"># 设置swap文件权限，只有root才能对本虚拟内存文件有读写权限；</span><br> <br><span class="hljs-built_in">ls</span> -lh /swapfile<br><span class="hljs-comment"># 查看文件信息，确认swap权限；</span><br> <br>sudo mkswap /swapfile<br><span class="hljs-comment"># 通知系统挂载swap；</span><br> <br>sudo swapon /swapfile<br><span class="hljs-comment"># 通知系统启用swap；</span><br> <br><span class="hljs-comment"># 现在虽然已经可以使用虚拟内存，但是一旦系统重启后，需要重新挂载，所以修改挂载磁盘文件达到重启后自动挂载：</span><br>sudo vi /etc/fstab<br> <br><span class="hljs-comment">#编辑脚本，打开文件后，最后面添加一行/swapfile  none  swap  sw  0  0，然后保存</span><br></code></pre></td></tr></table></figure><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ol><li><a href="https://answers.ros.org/question/348106/c-internal-compiler-error-killed-while-building-universal-robots-ros-driver/">https://answers.ros.org/question/348106/c-internal-compiler-error-killed-while-building-universal-robots-ros-driver/</a></li><li><a href="https://www.jianshu.com/p/c4ef42f6b2ec?u_atoken=accb1f50-4757-4f3f-8430-f9388c548e31&u_asession=01Sl97qhpzNtrzz3mtEYw-wA3CyQJFNHWpyqogGSfSixQfKtxtrf-HqPxHiq2wPl0LX0KNBwm7Lovlpxjd_P_q4JsKWYrT3W_NKPr8w6oU7K9T_9PkbfI9NtGK2za4CkVMPn5sJEo90JdruCukG2OVYmBkFo3NEHBv0PZUm6pbxQU&u_asig=05xHh4IRvz0OCaBf-5Cy3OE9fe4aMvS8FPRNgfAj4GPQqgTlU-Iq8IvUS2Vh0mMEf_FKwpjFHxgICf3cFCF6AqI8jdmNS3UBrHZk4dVsm7Ys7QEQSNA1i82ReMKxPlnagFIcJRq4Mo1hmPxMVZo9d3VVc-7H3O6oW1uAMKRdrH7af9JS7q8ZD7Xtz2Ly-b0kmuyAKRFSVJkkdwVUnyHAIJzU0KdFsOCLwMZOAxf8iLOxIrpB0pxWIxuPEKqEpEKHhELoLNx2oKfcIBo1yjPF0Bne3h9VXwMyh6PgyDIVSG1W9JpQAZ1eYztvV05qTc_LG75wXlYElZ4cq7YXSAdlfppbSqcceQuk9g-QpfEp97nmQwRREAJVszkQw8SBfELMt5mWspDxyAEEo4kbsryBKb9Q&u_aref=dt6SQ8S9vuUu7VT3LkIHdhamzvs=">解决c++: internal compiler error: 已杀死 (program cc1plus)</a></li><li><a href="https://blog.csdn.net/Steve_Rogan/article/details/121574843">https://blog.csdn.net/Steve_Rogan&#x2F;article&#x2F;details&#x2F;121574843</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>ROS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>melodic</tag>
      
      <tag>Ubuntu</tag>
      
      <tag>VMware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ROS初学笔记</title>
    <link href="/2022/09/12/ROS%E5%88%9D%E5%AD%A6%E7%AC%94%E8%AE%B0/"/>
    <url>/2022/09/12/ROS%E5%88%9D%E5%AD%A6%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="学习资源"><a href="#学习资源" class="headerlink" title="学习资源"></a>学习资源</h1><ol><li><a href="http://wiki.ros.org/">http://wiki.ros.org/</a></li><li><a href="https://www.guyuehome.com/">https://www.guyuehome.com/</a></li></ol><h1 id="学习笔记"><a href="#学习笔记" class="headerlink" title="学习笔记"></a>学习笔记</h1><h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p>查看ROS环境设置</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">printenv</span> | grep ROS</span><br></code></pre></td></tr></table></figure><p>创建工作空间并编译：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> -p ~/catkin_ws/src</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> ~/catkin_ws/</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">catkin_make</span><br></code></pre></td></tr></table></figure><p>使用工作空间中的功能包或节点需要先设置环境：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">source</span> devel/setup.bash</span><br></code></pre></td></tr></table></figure><p>检查是否成功：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-variable">$ROS_PACKAGE_PATH</span></span><br></code></pre></td></tr></table></figure><h2 id="ROS文件系统"><a href="#ROS文件系统" class="headerlink" title="ROS文件系统"></a>ROS文件系统</h2><p>查询ros可安装功能包：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>apt-cache search ros-melodic<br></code></pre></td></tr></table></figure><p>安装某个功能包(不知道确切名字，按tab键有惊喜)：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ sudo apt-<span class="hljs-built_in">get</span> install ros-melodic-ros-tutorials<br></code></pre></td></tr></table></figure><p>查询已安装功能包:</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rospack list<br></code></pre></td></tr></table></figure><p>查看某个安装包(roscpp)的安装位置：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ rospack <span class="hljs-built_in">find</span> roscpp<br></code></pre></td></tr></table></figure><blockquote><p>使用 <code>$ rospack help</code> 了解更多rospack命令</p></blockquote><p>更改终端路径到某一个包的位置:</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>roscd roscpp<br></code></pre></td></tr></table></figure><blockquote><p>roscd和其他的ROS工具一样，只能找ROS_PACKAGE_PATH中的功能包，查看命令 <code>$ echo $ROS_PACKAGE_PATH</code></p></blockquote><p>查看功能包目录：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosls roscpp<br></code></pre></td></tr></table></figure><h2 id="创建ROS功能包"><a href="#创建ROS功能包" class="headerlink" title="创建ROS功能包"></a>创建ROS功能包</h2><p>在工作空间中的功能包结构可能如下所示：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs ada">workspace_folder/        <span class="hljs-comment">-- WORKSPACE</span><br>  src/                   <span class="hljs-comment">-- SOURCE SPACE</span><br>    CMakeLists.txt       <span class="hljs-comment">-- &#x27;Toplevel&#x27; CMake file, provided by catkin</span><br>    package_1/<br>      CMakeLists.txt     <span class="hljs-comment">-- CMakeLists.txt file for package_1</span><br>      <span class="hljs-keyword">package</span>.xml        <span class="hljs-comment">-- Package manifest for package_1</span><br>    ...<br>    package_n/<br>      CMakeLists.txt     <span class="hljs-comment">-- CMakeLists.txt file for package_n</span><br>      <span class="hljs-keyword">package</span>.xml        <span class="hljs-comment">-- Package manifest for package_n</span><br></code></pre></td></tr></table></figure><p>在..&#x2F;catkin_ws&#x2F;src目录下，使用以下命令创建新的功能包：</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"># This <span class="hljs-keyword">is</span> an example, <span class="hljs-keyword">do</span> not <span class="hljs-keyword">try</span> to run <span class="hljs-keyword">this</span><br># catkin_create_pkg &lt;package_name&gt; [depend1] [depend2] [depend3]<br>$ catkin_create_pkg beginner_tutorials std_msgs rospy roscpp<br></code></pre></td></tr></table></figure><p>然后在..&#x2F;catkin_ws目录下，使用 <code>$ catkin_make</code>进行编译。<br>不要忘记添加工作区到ROS环境:</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">$ . ~<span class="hljs-regexp">/catkin_ws/</span>devel/setup.bash<br></code></pre></td></tr></table></figure><p>查看某个功能包的一级依赖：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rospack depends1 beginner_tutorials <br></code></pre></td></tr></table></figure><p>查看所有依赖：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rospack depends beginner_tutorials<br></code></pre></td></tr></table></figure><h2 id="理解ROS节点"><a href="#理解ROS节点" class="headerlink" title="理解ROS节点"></a>理解ROS节点</h2><p>使用ROS时先运行:</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>roscore<br></code></pre></td></tr></table></figure><p>查看当前在运行的ROS节点：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosnode list<br></code></pre></td></tr></table></figure><blockquote><p>有时可能已经终止的节点没有及时清除，可以手动清除：<code>$ rosnode cleanup</code></p></blockquote><p>查看某个节点的信息：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ rosnode <span class="hljs-built_in">info</span> /rosout<br></code></pre></td></tr></table></figure><p>运行某个功能包中的节点：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-comment"># rosrun [package_name] [node_name]</span><br><span class="hljs-variable">$ </span>rosrun turtlesim turtlesim_node<br></code></pre></td></tr></table></figure><p>可以使用重映射给节点换名：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosrun turtlesim turtlesim_node <span class="hljs-symbol">__name:</span>=my_turtle<br></code></pre></td></tr></table></figure><p>可以使用ping测试节点是否启动:</p><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs autoit">$ rosnode <span class="hljs-built_in">ping</span> my_turtle<br></code></pre></td></tr></table></figure><h2 id="理解ROS话题"><a href="#理解ROS话题" class="headerlink" title="理解ROS话题"></a>理解ROS话题</h2><p>使用ROS时先运行:</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>roscore<br></code></pre></td></tr></table></figure><p>然后打开两个终端，分别运行：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosrun turtlesim turtlesim_node<br><span class="hljs-variable">$ </span>rosrun turtlesim turtle_teleop_key<br></code></pre></td></tr></table></figure><p>打开新的终端，运行以下命令可以看到订阅关系：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosrun rqt_graph rqt_graph<br></code></pre></td></tr></table></figure><p>未安装则运行以下命令进行安装:</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ sudo apt-<span class="hljs-built_in">get</span> install ros-&lt;distro&gt;-rqt<br>$ sudo apt-<span class="hljs-built_in">get</span> install ros-&lt;distro&gt;-rqt-common-plugins<br></code></pre></td></tr></table></figure><p>rostopic工具允许你得到ROS话题的相关信息，使用以下命令得到相关用法：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rostopic -h<br></code></pre></td></tr></table></figure><p>使用echo打印发布或接收的话题信息：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">rostopic <span class="hljs-built_in">echo</span> /turtle1/cmd_vel</span><br></code></pre></td></tr></table></figure><p>使用<code>rostopic list</code>列举当前正在运行的话题：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rostopic list -h     <span class="hljs-comment"># 展示帮助信息</span><br><span class="hljs-variable">$ </span>rostopic list -v     <span class="hljs-comment"># 列举所有话题</span><br><span class="hljs-variable">$ </span>rostopic list -p     <span class="hljs-comment"># 只列举publisher    </span><br><span class="hljs-variable">$ </span>rostopic list -s     <span class="hljs-comment"># 只列举subscriber</span><br></code></pre></td></tr></table></figure><p>查看话题使用的消息类型：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">rostopic <span class="hljs-built_in">type</span> /turtle1/cmd_vel</span><br></code></pre></td></tr></table></figure><p>使用rosmsg查看消息类型细节：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosmsg show geometry_msgs/Twist<br></code></pre></td></tr></table></figure><p>使用<code>rostopic pub</code>发布数据:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">rostopic pub [topic] [msg_type] [args]</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rostopic pub -1 /turtle1/cmd_vel geometry_msgs/Twist -- <span class="hljs-string">&#x27;[2.0, 0.0, 0.0]&#x27;</span> <span class="hljs-string">&#x27;[0.0, 0.0, 1.8]&#x27;</span></span><br></code></pre></td></tr></table></figure><p>其中 -1 表示只发布一次，-r 表示循环发布，后面接参数表示频率（以hz为单位）：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">rostopic pub /turtle1/cmd_vel geometry_msgs/Twist -r 1 -- <span class="hljs-string">&#x27;[2.0, 0.0, 0.0]&#x27;</span> <span class="hljs-string">&#x27;[0.0, 0.0, -1.8]&#x27;</span></span><br></code></pre></td></tr></table></figure><p>查看话题发布频率：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">rostopic hz [topic]</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rostopic hz /turtle1/pose</span><br></code></pre></td></tr></table></figure><h2 id="理解ROS服务和参数"><a href="#理解ROS服务和参数" class="headerlink" title="理解ROS服务和参数"></a>理解ROS服务和参数</h2><p>查看当前服务：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosservice list<br></code></pre></td></tr></table></figure><p>查看某个服务类型：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">rosservice <span class="hljs-built_in">type</span> [service]</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rosservice <span class="hljs-built_in">type</span> /clear</span><br></code></pre></td></tr></table></figure><p>调用服务：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">rosservice call [service] [args]</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rosservice call /clear</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rosservice call /spawn 2 2 0.2 <span class="hljs-string">&quot;&quot;</span></span><br></code></pre></td></tr></table></figure><p>查看当前参数服务器上的参数：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosparam list<br></code></pre></td></tr></table></figure><p>设置参数值以及获取参数值：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_"># </span><span class="language-bash">rosparam <span class="hljs-built_in">set</span> [param_name]</span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">rosparam get [param_name]</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rosparam <span class="hljs-built_in">set</span> /turtlesim/background_r 150</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">rosparam get /turtlesim/background_g</span> <br></code></pre></td></tr></table></figure><p>使用以下命令展示所有参数值：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">$ rosparam <span class="hljs-built_in">get</span> /<br></code></pre></td></tr></table></figure><p>使用文件加载或者存储参数：</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver"><span class="hljs-comment"># rosparam dump [file_name] [namespace]</span><br><span class="hljs-comment"># rosparam load [file_name] [namespace]</span><br>$ rosparam dump <span class="hljs-built_in">params</span>.yaml<br>$ rosparam <span class="hljs-built_in">load</span> <span class="hljs-built_in">params</span>.yaml copy_turtle<br></code></pre></td></tr></table></figure><h2 id="使用rqt-console和roslaunch"><a href="#使用rqt-console和roslaunch" class="headerlink" title="使用rqt_console和roslaunch"></a>使用rqt_console和roslaunch</h2><p>rqt_console连接到ROS的日志记录框架，以显示来自节点的输出。</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosrun rqt_console rqt_console<br></code></pre></td></tr></table></figure><p>rqt_logger_level允许我们在节点运行时更改节点的详细级别(DEBUG、WARN、INFO和ERROR)。</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rosrun rqt_logger_level rqt_logger_level<br></code></pre></td></tr></table></figure><p>Roslaunch可以启动launch文件中定义的节点。它的用法如下：</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs inform7">$ roslaunch <span class="hljs-comment">[package]</span> <span class="hljs-comment">[filename.launch]</span><br></code></pre></td></tr></table></figure><p>例如，在beginner_tutotrals中新建一个launch文件:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> ~/catkin_ws</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">source</span> devel/setup.bash</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">roscd beginner_tutorials</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> launch</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> launch</span><br></code></pre></td></tr></table></figure><blockquote><p>NOTE: The directory to store launch files doesn’t necessarily have to be named launch. In fact you don’t even need to store them in a directory. roslaunch command automatically looks into the passed package and detects available launch files. However, this is considered good practice.</p></blockquote><p>turtlemimic.launch文件内容如下，作用是启动两个小海龟，其中一个跟着另一个移动：</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs abnf">&lt;launch&gt;<br><br>  &lt;group ns<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim1&quot;</span>&gt;<br>    &lt;node pkg<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim&quot;</span> name<span class="hljs-operator">=</span><span class="hljs-string">&quot;sim&quot;</span> type<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim_node&quot;</span>/&gt;<br>  &lt;/group&gt;<br><br>  &lt;group ns<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim2&quot;</span>&gt;<br>    &lt;node pkg<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim&quot;</span> name<span class="hljs-operator">=</span><span class="hljs-string">&quot;sim&quot;</span> type<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim_node&quot;</span>/&gt;<br>  &lt;/group&gt;<br><br>  &lt;node pkg<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim&quot;</span> name<span class="hljs-operator">=</span><span class="hljs-string">&quot;mimic&quot;</span> type<span class="hljs-operator">=</span><span class="hljs-string">&quot;mimic&quot;</span>&gt;<br>    &lt;remap from<span class="hljs-operator">=</span><span class="hljs-string">&quot;input&quot;</span> to<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim1/turtle1&quot;</span>/&gt;<br>    &lt;remap from<span class="hljs-operator">=</span><span class="hljs-string">&quot;output&quot;</span> to<span class="hljs-operator">=</span><span class="hljs-string">&quot;turtlesim2/turtle1&quot;</span>/&gt;<br>  &lt;/node&gt;<br><br>&lt;/launch&gt;<br></code></pre></td></tr></table></figure><p>使用以下命令启动：</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">$ roslaunch beginner_tutorials turtlemimic.<span class="hljs-built_in">launch</span><br></code></pre></td></tr></table></figure><p>然后发布话题：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">$ rostopic pub <span class="hljs-regexp">/turtlesim1/</span>turtle1<span class="hljs-regexp">/cmd_vel geometry_msgs/</span>Twist -r <span class="hljs-number">1</span> -- <span class="hljs-string">&#x27;[2.0, 0.0, 0.0]&#x27;</span> <span class="hljs-string">&#x27;[0.0, 0.0, -1.8]&#x27;</span><br></code></pre></td></tr></table></figure><p>使用以下命令更好的理解节点间的关系：</p><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crystal"><span class="hljs-variable">$ </span>rqt_graph<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>ROS</category>
      
    </categories>
    
    
    <tags>
      
      <tag>melodic</tag>
      
      <tag>Ubuntu</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>sudo rosdep init|rosdep update相关问题的解决方法</title>
    <link href="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/"/>
    <url>/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><blockquote><p>以下资源来自ROS2官网：<a href="https://docs.ros.org/en/humble/Tutorials/Intermediate/Rosdep.html">https://docs.ros.org/en/humble/Tutorials/Intermediate/Rosdep.html</a></p></blockquote><p><em>rosdep</em>是ROS的依赖管理实用工具，可以与ROS包和外部库一起工作。<em>rosdep</em>是一个命令行工具，用于自动识别和安装（安装包的）依赖项。它可以在以下情况被调用:</p><ul><li>构建工作区，并需要适当的依赖关系来构建其中的包时</li><li>安装了某个包(例如sudo apt install ros-humble-demo-nodes-cpp)，需要检查它执行所需的依赖关系时</li><li>其他</li></ul><p>使用<em>rosdep</em>工具之前，必须使用以下命令初始化：</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs csharp">sudo rosdep <span class="hljs-keyword">init</span><br>rosdep update<br></code></pre></td></tr></table></figure><p>之后便可以使用<em>rosdep install</em>安装依赖项：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css">rosdep install <span class="hljs-attr">--from-paths</span> <span class="hljs-attribute">src</span> -y <span class="hljs-attr">--ignore-src</span><br></code></pre></td></tr></table></figure><p>其中：</p><ul><li><em>–from-paths src</em> 指定要检查要解析密钥的package.xml文件的路径</li><li><em>-y</em> 表示对包管理器的所有提示默认为 <em>yes</em>，安装时不提示</li><li><em>–ignore-src</em> 意味着忽略安装依赖项，即使rosdep键存在，如果包本身也在工作空间中。</li></ul><p>对于其他参数，可使用 <code>rosdep -h</code> 命令查看。</p><h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>在构建工作区之前，需要解析包依赖关系。虽然可能已经有了所有的依赖项，但最佳实践是在每次克隆相关包时检查依赖项。谁也不希望由于缺少依赖项而导致长时间等待后构建失败。这时就需要用到 <em>rosdep</em> 命令。</p><p>首先是<code>sudo rosdep init</code>命令，出现以下错误：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs pgsql">cjl@cjl-Ubuntu22:~/ros2/ros2_ws$ sudo rosdep init<br><br>ERROR: Rosdep experienced an error: The <span class="hljs-keyword">read</span> operation timed <span class="hljs-keyword">out</span><br>Please go <span class="hljs-keyword">to</span> the rosdep page [<span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> file a bug report <span class="hljs-keyword">with</span> the stack trace below.<br>[<span class="hljs-number">1</span>] : http://www.ros.org/wiki/rosdep<br><br>rosdep <span class="hljs-keyword">version</span>: <span class="hljs-number">0.22</span><span class="hljs-number">.1</span><br><br>Traceback (most recent <span class="hljs-keyword">call</span> last):<br>  File &quot;/usr/lib/python3/dist-packages/rosdep2/main.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">146</span>, <span class="hljs-keyword">in</span> rosdep_main<br>    exit_code = _rosdep_main(args)<br>  File &quot;/usr/lib/python3/dist-packages/rosdep2/main.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">444</span>, <span class="hljs-keyword">in</span> _rosdep_main<br>    <span class="hljs-keyword">return</span> _no_args_handler(command, <span class="hljs-keyword">parser</span>, <span class="hljs-keyword">options</span>, args)<br>  File &quot;/usr/lib/python3/dist-packages/rosdep2/main.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">453</span>, <span class="hljs-keyword">in</span> _no_args_handler<br>    <span class="hljs-keyword">return</span> command_handlers[command](<span class="hljs-keyword">options</span>)<br>  File &quot;/usr/lib/python3/dist-packages/rosdep2/main.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">597</span>, <span class="hljs-keyword">in</span> command_init<br>    data = download_default_sources_list()<br>  File &quot;/usr/lib/python3/dist-packages/rosdep2/sources_list.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">326</span>, <span class="hljs-keyword">in</span> download_default_sources_list<br>    f = urlopen_gzip(url, timeout=DOWNLOAD_TIMEOUT)<br>  File &quot;/usr/lib/python3/dist-packages/rosdep2/url_utils.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">50</span>, <span class="hljs-keyword">in</span> urlopen_gzip<br>    response = urlopen(url_request, **kwargs)<br>  File &quot;/usr/lib/python3.10/urllib/request.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">216</span>, <span class="hljs-keyword">in</span> urlopen<br>    <span class="hljs-keyword">return</span> opener.<span class="hljs-keyword">open</span>(url, data, timeout)<br>  File &quot;/usr/lib/python3.10/urllib/request.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">519</span>, <span class="hljs-keyword">in</span> <span class="hljs-keyword">open</span><br>    response = self._open(req, data)<br>  File &quot;/usr/lib/python3.10/urllib/request.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">536</span>, <span class="hljs-keyword">in</span> _open<br>    result = self._call_chain(self.handle_open, protocol, protocol +<br>  File &quot;/usr/lib/python3.10/urllib/request.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">496</span>, <span class="hljs-keyword">in</span> _call_chain<br>    result = func(*args)<br>  File &quot;/usr/lib/python3.10/urllib/request.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1391</span>, <span class="hljs-keyword">in</span> https_open<br>    <span class="hljs-keyword">return</span> self.do_open(http.client.HTTPSConnection, req,<br>  File &quot;/usr/lib/python3.10/urllib/request.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1352</span>, <span class="hljs-keyword">in</span> do_open<br>    r = h.getresponse()<br>  File &quot;/usr/lib/python3.10/http/client.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1374</span>, <span class="hljs-keyword">in</span> getresponse<br>    response.<span class="hljs-keyword">begin</span>()<br>  File &quot;/usr/lib/python3.10/http/client.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">318</span>, <span class="hljs-keyword">in</span> <span class="hljs-keyword">begin</span><br>    <span class="hljs-keyword">version</span>, status, reason = self._read_status()<br>  File &quot;/usr/lib/python3.10/http/client.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">279</span>, <span class="hljs-keyword">in</span> _read_status<br>    <span class="hljs-type">line</span> = str(self.fp.readline(_MAXLINE + <span class="hljs-number">1</span>), &quot;iso-8859-1&quot;)<br>  File &quot;/usr/lib/python3.10/socket.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">705</span>, <span class="hljs-keyword">in</span> readinto<br>    <span class="hljs-keyword">return</span> self._sock.recv_into(b)<br>  File &quot;/usr/lib/python3.10/ssl.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1273</span>, <span class="hljs-keyword">in</span> recv_into<br>    <span class="hljs-keyword">return</span> self.<span class="hljs-keyword">read</span>(nbytes, buffer)<br>  File &quot;/usr/lib/python3.10/ssl.py&quot;, <span class="hljs-type">line</span> <span class="hljs-number">1129</span>, <span class="hljs-keyword">in</span> <span class="hljs-keyword">read</span><br>    <span class="hljs-keyword">return</span> self._sslobj.<span class="hljs-keyword">read</span>(len, buffer)<br>TimeoutError: The <span class="hljs-keyword">read</span> operation timed <span class="hljs-keyword">out</span><br></code></pre></td></tr></table></figure><p><strong>此问题可以通过开启代理解决。</strong></p><p>然后是<code>rosdep update</code>命令，出现以下问题：</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs subunit">cjl@cjl-Ubuntu22:~/ros2/ros2_ws$ rosdep update<br>reading in sources list data from /etc/ros/rosdep/sources.list.d<br><span class="hljs-keyword">ERROR: </span>error loading sources list:<br>        The read operation timed out<br></code></pre></td></tr></table></figure><p>有时可能会Hit几个，但总会报错，不能运行成功，即使开启代理也是如此。</p><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>出现这个问题的原因不必多说。解决方法如下（主要是<code>rosdep update</code>问题）：</p><ol><li><p>查看报错，发现资源列表数据读取来自文件夹<code>/etc/ros/rosdep/sources.list.d</code>，该文件夹下有一个名为<code>20-default.list</code>的文件，打开如下：</p><img src="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/1.png" class=""></li><li><p>网站<code>https://ghproxy.com/</code>支持github的资源代理，非常好用，我们将用此代理加速rosdep对Github Raw的访问，进而解决rosdep update超时问题。具体操作是在每个url前面加上<code>https://ghproxy.com/</code>，如下：</p><img src="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/2.png" class=""><blockquote><p>注意：可使用<code>sudo gedit /etc/ros/rosdep/sources.list.d/20-default.list</code>获取更改权限</p></blockquote></li><li><p>重新尝试，并未成功</p><img src="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/3.png" class=""><p>报错的链接并未加上代理，而且这个链接20-default.list文件中并没有。这说明另有文件。</p></li><li><p>经查询，包含资源下载函数的文件如下：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">sudo gedit <span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/python3/</span>dist-packages<span class="hljs-regexp">/rosdep2/</span>sources_list.py<br></code></pre></td></tr></table></figure></li><li><p>在下面位置加上命令<code>url=&quot;https://ghproxy.com/&quot;+url</code></p><img src="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/4.png" class=""><blockquote><p>注意：将20-default.list文件改回原样，不然就是加了两次前缀。</p></blockquote></li><li><p>使用同样的方法修改<code>/usr/lib/python3/dist-packages/rosdistro/__init__.py</code>文件。</p><img src="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/5.png" class=""></li><li><p>同样包含 <a href="https://raw.githubusercontent.com/">https://raw.githubusercontent.com/</a>… 地址的文件还有如下几个文件：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/python3/</span>dist-packages<span class="hljs-regexp">/rosdep2/g</span>bpdistro_support.py <span class="hljs-number">34</span>行<br><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/python3/</span>dist-packages<span class="hljs-regexp">/rosdep2/</span>sources_list.py <span class="hljs-number">64</span>行<br><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/python3/</span>dist-packages<span class="hljs-regexp">/rosdep2/</span>rep3.py<span class="hljs-number">36</span>行<br><span class="hljs-regexp">/usr/</span>lib<span class="hljs-regexp">/python3/</span>dist-packages<span class="hljs-regexp">/rosdistro/m</span>anifest_provider/github.py <span class="hljs-number">68</span>行 <span class="hljs-number">119</span>行<br></code></pre></td></tr></table></figure></li><li><p>&#x2F;usr&#x2F;lib&#x2F;python3&#x2F;dist-packages&#x2F;rosdep2&#x2F;gbpdistro_support.py文件：</p><img src="/2022/09/07/sudo-rosdep-init-rosdep-update%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95/6.png" class=""></li><li><p>运行<code>rosdep update</code>命令，成功执行：</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs subunit">cjl@cjl-Ubuntu22:~/ros2/ros2_ws$ rosdep update<br>reading in sources list data from /etc/ros/rosdep/sources.list.d<br>Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/osx-homebrew.yaml<br>Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/base.yaml<br>Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/python.yaml<br>Hit https://raw.githubusercontent.com/ros/rosdistro/master/rosdep/ruby.yaml<br>Hit https://raw.githubusercontent.com/ros/rosdistro/master/releases/fuerte.yaml<br>Query rosdistro index https://ghproxy.com/https://raw.githubusercontent.com/ros/rosdistro/master/index-v4.yaml<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;ardent&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;bouncy&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;crystal&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;dashing&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;eloquent&quot;<br>Add distro &quot;foxy&quot;<br>Add distro &quot;galactic&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;groovy&quot;<br>Add distro &quot;humble&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;hydro&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;indigo&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;jade&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;kinetic&quot;<br><span class="hljs-keyword">Skip </span>end-of-life distro &quot;lunar&quot;<br>Add distro &quot;melodic&quot;<br>Add distro &quot;noetic&quot;<br>Add distro &quot;rolling&quot;<br>updated cache in /home/cjl/.ros/rosdep/sources.cache<br></code></pre></td></tr></table></figure></li></ol><h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><ol><li><a href="https://zhuanlan.zhihu.com/p/392082731">https://zhuanlan.zhihu.com/p/392082731</a></li><li><a href="https://blog.csdn.net/leida_wt/article/details/115120940?utm_medium=distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-0&spm=1001.2101.3001.4242">https://blog.csdn.net/leida_wt&#x2F;article&#x2F;details&#x2F;115120940?utm_medium&#x3D;distribute.pc_relevant.none-task-blog-baidujs_baidulandingword-0&amp;spm&#x3D;1001.2101.3001.4242</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>ROS2</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>humble</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>一键安装ROS2 humble</title>
    <link href="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/"/>
    <url>/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>系统配置为：虚拟机Ubuntu 22.04。ROS2 humble官方文档有两种安装方式：</p><ol><li>binary安装：<a href="https://docs.ros.org/en/humble/Installation/Alternatives/Ubuntu-Install-Binary.html">https://docs.ros.org/en/humble/Installation/Alternatives/Ubuntu-Install-Binary.html</a></li><li>source安装：<a href="https://docs.ros.org/en/humble/Installation/Alternatives/Ubuntu-Development-Setup.html">https://docs.ros.org/en/humble/Installation/Alternatives/Ubuntu-Development-Setup.html</a></li></ol><p>本文尝试使用一种简单的安装方式，来自<a href="http://fishros.com/#/fish_home">鱼香ROS</a>的一键安装脚本。</p><h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>一键安装指令：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">wget http:<span class="hljs-regexp">//</span>fishros.com/install -O fishros &amp;&amp; . fishros<br></code></pre></td></tr></table></figure><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/1.png" class=""><p>根据自己的需求键入数字，这里安装ROS2，键入1回车：</p><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/2.png" class=""><p>键入1回车：</p><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/3.png" class=""><p>键入2回车：</p><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/4.png" class=""><p>键入1回车：</p><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/5.png" class=""><p>桌面版包含ROS，RViz，示例，教程等，比较全面。而基础版没有GUI工具。这里安装桌面版，键入1回车，等待一会：</p><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/6.png" class="" alt="等待安装"><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/7.png" class="" alt="安装完成"><p>打开.bashrc文件，拉到最下面可以看到：</p><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/8.png" class=""><p>可以看到环境已经设置好了。</p><h1 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h1><p>使用ROS2测试一些样例，打开一个终端运行C++ <em>talker</em>：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">ros2 <span class="hljs-built_in">run</span> demo_nodes_cpp talker<br></code></pre></td></tr></table></figure><p>打开另一个终端运行Python <em>listener</em>：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">ros2 <span class="hljs-built_in">run</span> demo_nodes_py listener<br></code></pre></td></tr></table></figure><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/9.png" class="" alt="talker"><img src="/2022/09/04/%E4%B8%80%E9%94%AE%E5%AE%89%E8%A3%85ROS2-humble/10.png" class="" alt="listener"><p><strong>安装成功！</strong></p>]]></content>
    
    
    <categories>
      
      <category>ROS2</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>humble</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>VMware安装Ubuntu22.04</title>
    <link href="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/"/>
    <url>/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/</url>
    
    <content type="html"><![CDATA[<h1 id="VMware安装"><a href="#VMware安装" class="headerlink" title="VMware安装"></a>VMware安装</h1><p>这里安装的是VMware Workstation Pro 16虚拟机，安装教程（带密钥）如下：<br><a href="https://blog.csdn.net/qq_40950957/article/details/80467513">https://blog.csdn.net/qq_40950957&#x2F;article&#x2F;details&#x2F;80467513</a></p><h1 id="安装Ubuntu虚拟环境"><a href="#安装Ubuntu虚拟环境" class="headerlink" title="安装Ubuntu虚拟环境"></a>安装Ubuntu虚拟环境</h1><h2 id="1-下载Ubuntu22-04"><a href="#1-下载Ubuntu22-04" class="headerlink" title="1. 下载Ubuntu22.04"></a>1. 下载Ubuntu22.04</h2><p>Ubuntu官网：<a href="https://cn.ubuntu.com/download/desktop">https://cn.ubuntu.com/download/desktop</a></p><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/1.png" class=""><h2 id="2-VMware操作"><a href="#2-VMware操作" class="headerlink" title="2. VMware操作"></a>2. VMware操作</h2><p>打开VMware，创建新的虚拟机，按照图片一步步操作。</p><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/2.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/3.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/4.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/5.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/6.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/7.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/8.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/9.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/10.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/11.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/12.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/13.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/14.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/15.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/16.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/17.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/18.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/19.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/20.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/21.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/22.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/23.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/24.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/25.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/26.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/27.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/28.png" class=""><img src="/2022/09/02/VMware%E5%AE%89%E8%A3%85Ubuntu22-04/29.png" class=""><h2 id="3-相关问题"><a href="#3-相关问题" class="headerlink" title="3. 相关问题"></a>3. 相关问题</h2><p>安装完成后，发现无法自动放大缩小屏幕，并且也无法进行主机与虚拟机之间的复制粘贴操作，参照以下博客解决：</p><ol><li><a href="https://docs.vmware.com/cn/VMware-Workstation-Pro/16.0/com.vmware.ws.using.doc/GUID-08BB9465-D40A-4E16-9E15-8C016CC8166F.html">https://docs.vmware.com/cn/VMware-Workstation-Pro/16.0/com.vmware.ws.using.doc/GUID-08BB9465-D40A-4E16-9E15-8C016CC8166F.html</a></li><li><a href="https://blog.csdn.net/qq_43656475/article/details/126111925">https://blog.csdn.net/qq_43656475&#x2F;article&#x2F;details&#x2F;126111925</a></li></ol><h2 id="4-相关资源"><a href="#4-相关资源" class="headerlink" title="4. 相关资源"></a>4. 相关资源</h2><ol><li><a href="https://docs.vmware.com/cn/VMware-Workstation-Pro/16.0/com.vmware.ws.using.doc/GUID-0EE752F8-C159-487A-9159-FE1F646EE4CA.html">VMware16官方文档</a></li><li><a href="https://zhuanlan.zhihu.com/p/270908077">Ubuntu安装软件有这5种方法</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>虚拟机</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Ubuntu</tag>
      
      <tag>VMware</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>解决hexo博客使用markdown引入图片无法显示的问题</title>
    <link href="/2022/08/31/%E8%A7%A3%E5%86%B3hexo%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8markdown%E5%BC%95%E5%85%A5%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2022/08/31/%E8%A7%A3%E5%86%B3hexo%E5%8D%9A%E5%AE%A2%E4%BD%BF%E7%94%A8markdown%E5%BC%95%E5%85%A5%E5%9B%BE%E7%89%87%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>本人使用的是Fluid主题，将_config.yaml文件中的post_asset_folder选项设为true后，每次使用</p><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss">hexo <span class="hljs-keyword">new</span> [<span class="hljs-built_in">title</span>]<br></code></pre></td></tr></table></figure><p>创建新文章时都会自动创建一个同名文件夹，用于存放文章相关的资源，例如图片等。这时我们可以通过相对路径来引用它们。</p><p>但是常规的 markdown 语法和相对路径来引用图片和其它资源可能会导致它们在存档页或者主页上显示不正确。官方推荐的做法时使用下面的标签插件而不是markdown：</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">&#123;<span class="hljs-symbol">%</span> asset_img <span class="hljs-built_in">example</span>.jpg This <span class="hljs-built_in">is</span> an <span class="hljs-built_in">example</span> <span class="hljs-built_in">image</span> <span class="hljs-symbol">%</span>&#125;<br></code></pre></td></tr></table></figure><p>但这种方式，在本地开发中并不友好。</p><h1 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h1><p>使用hexo的插件来解决，我发现了一个名为<a href="https://github.com/ZaiZheTingDun/hexo-simple-image">hexo-simple-image</a>的插件能完美解决我的问题。</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs maxima">npm install hexo-simple-<span class="hljs-built_in">image</span> --<span class="hljs-built_in">save</span><br></code></pre></td></tr></table></figure><h1 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h1><p>这个问题产生的原因，本质上是因为md文件转html文件时，图片路径某些元素的丢失，比如日期。在public文件夹下，可以看到对应的转换。hexo官网的插件<a href="https://hexo.io/plugins/">https://hexo.io/plugins/</a>有一些解决办法，我也是尝试了hexo-asset-image等几个插件后，才找到合适的。</p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>蒙娜丽莎</title>
    <link href="/2022/08/26/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/"/>
    <url>/2022/08/26/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<p>这是一篇测试文章</p><!-- <img src="/2022/08/26/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/test.png" class="" title="蒙娜丽莎"> --><!-- 56 --><img src="/2022/08/26/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/test.png" class="" alt="图片引用方法三">]]></content>
    
    
    <categories>
      
      <category>杂记</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2022/08/26/hello-world/"/>
    <url>/2022/08/26/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    <categories>
      
      <category>hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
